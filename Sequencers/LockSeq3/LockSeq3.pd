#N canvas 1021 145 895 512 10;
#N canvas 162 125 1127 834 lockseq2 1;
#X text 28 162 Controls State With Aux Button;
#N canvas 11 50 1006 722 midi-control 0;
#X obj 95 121 midirealtimein;
#X obj 95 177 sel 248 250 251 252, f 22;
#X obj 260 239 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 260 355 t b b;
#X msg 292 390 0;
#X obj 369 364 t b b;
#X msg 401 399 0;
#X obj 482 368 t b b b;
#X msg 541 395 1;
#X obj 260 309 sel 1 2 3, f 37;
#X obj 69 243 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 69 313 sel 0 1 2 3, f 12;
#X text 78 509 states are: 0 = stopped \, 1 = playing \, 2 = rec enabled
\, 3 = recording, f 70;
#X obj 69 351 t b b;
#X msg 101 386 1;
#X text 262 143 MIDI 248 = clock \; 250 = start \; 251 = continue \;
252 = stop, f 18;
#X text 23 15 This subpatch handles MIDI commands for starting/stopping
sequencer., f 69;
#X obj 260 456 s locklockseq2-\$1-stop;
#X obj 369 466 s lockseq2-\$1-stop;
#X obj 482 470 s lockseq2-\$1-start;
#X obj 505 442 s lockseq2-\$1-end_seq;
#X obj 541 417 v lockseq2-\$1-state;
#X obj 401 421 v lockseq2-\$1-state;
#X obj 292 412 v lockseq2-\$1-state;
#X obj 101 408 v lockseq2-\$1-state;
#X obj 69 461 s lockseq2-\$1-start;
#X obj 260 272 v lockseq2-\$1-state;
#X obj 69 276 v lockseq2-\$1-state;
#X connect 0 0 1 0;
#X connect 1 1 10 0;
#X connect 1 2 10 0;
#X connect 1 3 2 0;
#X connect 2 0 26 0;
#X connect 3 0 17 0;
#X connect 3 1 4 0;
#X connect 4 0 23 0;
#X connect 5 0 18 0;
#X connect 5 1 6 0;
#X connect 6 0 22 0;
#X connect 7 0 19 0;
#X connect 7 1 20 0;
#X connect 7 2 8 0;
#X connect 8 0 21 0;
#X connect 9 0 3 0;
#X connect 9 1 5 0;
#X connect 9 2 7 0;
#X connect 10 0 27 0;
#X connect 11 0 13 0;
#X connect 13 0 25 0;
#X connect 13 1 14 0;
#X connect 14 0 24 0;
#X connect 26 0 9 0;
#X connect 27 0 11 0;
#X restore 25 76 pd midi-control;
#X obj 388 578 t b b;
#X obj 420 661 sel 0 1 2 3, f 33;
#X obj 420 613 delay 100;
#X text 333 747 Flashes LED at loop & sets color after sequence stop
;
#N canvas 7 50 450 300 midi-out 0;
#X obj 114 172 noteout 1;
#X obj 195 104 r lockseq2-\$1-zero_notes;
#X obj 114 80 r lockseq2-\$1-notes_seq;
#X obj 211 137 r midiCh;
#X obj 114 132 unpack 0 0;
#X connect 1 0 4 0;
#X connect 2 0 4 0;
#X connect 3 0 0 2;
#X connect 4 0 0 0;
#X connect 4 1 0 1;
#X restore 24 40 pd midi-out;
#X obj 420 637 v lockseq2-\$1-state;
#X msg 420 688 0;
#X msg 477 687 3;
#X msg 534 688 6;
#X msg 591 688 1;
#X obj 420 730 s lockseq2-\$1-led;
#X msg 388 622 7;
#N canvas 9 50 659 666 aux-button 0;
#X obj 246 189 f;
#X obj 246 136 sel 1;
#X obj 93 192 sel 1;
#X obj 93 365 sel 0 1 2 3, f 54;
#X obj 93 440 t b b;
#X msg 125 475 1;
#X obj 186 396 t b b;
#X msg 216 416 0;
#X msg 329 261 2;
#X obj 246 106 t f f, f 9;
#X obj 246 215 sel 1;
#X msg 312 502 0;
#X msg 420 411 1;
#X obj 246 243 t b b b;
#X obj 246 161 del 500;
#X obj 93 549 s lockseq2-\$1-start;
#X obj 186 457 s lockseq2-\$1-stop;
#X obj 280 549 s lockseq2-\$1-stop;
#X obj 374 476 s lockseq2-\$1-start;
#X obj 397 454 s lockseq2-\$1-end_seq;
#X obj 125 497 v lockseq2-\$1-state;
#X obj 216 438 v lockseq2-\$1-state;
#X obj 312 524 v lockseq2-\$1-state;
#X obj 420 433 v lockseq2-\$1-state;
#X obj 246 335 s lockseq2-\$1-recenable;
#X obj 269 308 s lockseq2-\$1-stop;
#X obj 329 283 v lockseq2-\$1-state;
#X obj 93 251 v lockseq2-\$1-state;
#X obj 93 47 inlet;
#X obj 93 214 b;
#X text 393 97 states are: 0 = stopped \, 1 = playing \, 2 = rec enabled
\, 3 = recording, f 12;
#X obj 385 583 s lockseq2-\$1-rec-stop;
#X obj 280 476 t b b;
#X obj 374 390 t b b b b;
#X connect 0 0 10 0;
#X connect 1 0 14 0;
#X connect 2 0 29 0;
#X connect 3 0 4 0;
#X connect 3 1 6 0;
#X connect 3 2 32 0;
#X connect 3 3 33 0;
#X connect 4 0 15 0;
#X connect 4 1 5 0;
#X connect 5 0 20 0;
#X connect 6 0 16 0;
#X connect 6 1 7 0;
#X connect 7 0 21 0;
#X connect 8 0 26 0;
#X connect 9 0 1 0;
#X connect 9 1 0 1;
#X connect 10 0 13 0;
#X connect 11 0 22 0;
#X connect 12 0 23 0;
#X connect 13 0 24 0;
#X connect 13 1 25 0;
#X connect 13 2 8 0;
#X connect 14 0 0 0;
#X connect 27 0 3 0;
#X connect 28 0 9 0;
#X connect 28 0 2 0;
#X connect 29 0 27 0;
#X connect 32 0 17 0;
#X connect 32 1 11 0;
#X connect 33 0 18 0;
#X connect 33 1 31 0;
#X connect 33 2 19 0;
#X connect 33 3 12 0;
#X restore 33 220 pd aux-button;
#X obj 33 193 inlet;
#N canvas 211 179 902 547 Led+Screen 0;
#X msg 112 203 Sequencer: Playing;
#X msg 260 203 Sequencer: Stopped;
#X msg 415 203 Sequencer: Enabled;
#X msg 589 202 Sequencer: Recording;
#X text 97 96 Controls LED & Screen Infomation:;
#X obj 112 117 r lockseq2-\$1-start;
#X obj 260 120 r lockseq2-\$1-stop;
#X obj 415 118 r lockseq2-\$1-recenable;
#X obj 589 117 r lockseq2-\$1-record;
#X obj 240 315 s lockseq2-\$1-aux-label;
#X obj 528 312 s lockseq2-\$1-led;
#X msg 129 231 3;
#X msg 268 227 0;
#X msg 418 229 6;
#X msg 560 236 1;
#X connect 0 0 9 0;
#X connect 1 0 9 0;
#X connect 2 0 9 0;
#X connect 3 0 9 0;
#X connect 5 0 0 0;
#X connect 5 0 11 0;
#X connect 6 0 1 0;
#X connect 6 0 12 0;
#X connect 7 0 2 0;
#X connect 7 0 13 0;
#X connect 8 0 3 0;
#X connect 8 0 14 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X connect 13 0 10 0;
#X connect 14 0 10 0;
#X restore 26 121 pd Led+Screen;
#N canvas 530 147 1254 897 record-notes 0;
#X msg 768 541 3;
#X obj 722 511 t b b b;
#X msg 722 647 1;
#X obj 677 42 r lockseq2-\$1-recenable;
#X obj 851 41 r lockseq2-\$1-start;
#X obj 993 41 r lockseq2-\$1-stop;
#X obj 745 585 s lockseq2-\$1-record;
#X obj 722 674 s lockseq2-\$1-something-recorded;
#X obj 768 563 v lockseq2-\$1-state;
#X obj 398 28 inlet, f 17;
#X text 875 847 too high number to never output;
#X obj 362 371 r master-ticks;
#X obj 371 398 b;
#N canvas 845 280 450 300 wait-4-trig 0;
#X obj 160 169 t b b;
#X msg 160 191 0;
#X obj 160 147 spigot 0;
#X obj 76 42 inlet data stream;
#X obj 213 49 inlet trigger;
#X obj 192 211 outlet;
#X obj 213 100 b;
#X msg 213 122 1;
#X obj 160 115 b;
#X connect 0 0 1 0;
#X connect 0 1 5 0;
#X connect 1 0 2 1;
#X connect 2 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 2 1;
#X connect 8 0 2 0;
#X restore 489 277 pd wait-4-trig;
#X obj 313 703 route list;
#X obj 494 236 stripnote;
#X obj 365 430 f 0;
#X msg 481 367 0, f 2;
#X obj 376 572 f 0;
#X obj 398 429 + 1;
#X obj 532 814 textfile;
#X obj 383 195 t a a;
#X obj 296 646 list prepend \$1;
#X obj 301 482 t a b;
#X obj 363 489 / 24;
#X msg 557 670 clear;
#X obj 314 680 list prepend add;
#X obj 441 98 spigot 0;
#X msg 669 74 1;
#X msg 915 76 0;
#X obj 330 766 print;
#X obj 493 331 t b b b;
#X obj 96 331 r lockseq2-\$1-rec-stop;
#X obj 174 642 list prepend \$1;
#X obj 197 497 t a b;
#X msg 182 588 END;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 2 0 0;
#X connect 2 0 7 0;
#X connect 3 0 28 0;
#X connect 3 0 13 1;
#X connect 4 0 29 0;
#X connect 5 0 29 0;
#X connect 9 0 27 0;
#X connect 11 0 12 0;
#X connect 12 0 16 0;
#X connect 13 0 31 0;
#X connect 14 0 20 0;
#X connect 14 0 30 0;
#X connect 15 0 13 0;
#X connect 16 0 19 0;
#X connect 16 0 24 0;
#X connect 17 0 16 1;
#X connect 17 0 18 1;
#X connect 18 0 22 1;
#X connect 18 0 33 1;
#X connect 19 0 16 1;
#X connect 21 0 23 0;
#X connect 21 1 15 0;
#X connect 22 0 26 0;
#X connect 23 0 22 0;
#X connect 23 1 18 0;
#X connect 24 0 18 1;
#X connect 25 0 20 0;
#X connect 26 0 14 0;
#X connect 27 0 21 0;
#X connect 28 0 27 1;
#X connect 29 0 27 1;
#X connect 31 0 17 0;
#X connect 31 1 25 0;
#X connect 31 2 1 0;
#X connect 32 0 34 0;
#X connect 33 0 26 0;
#X connect 34 0 35 0;
#X connect 34 1 18 0;
#X connect 35 0 33 0;
#X restore 352 336 pd record-notes;
#X obj 480 255 inlet;
#X obj 552 327 r lockseq2-\$1-zero_notes;
#X obj 480 400 outlet;
#N canvas 4 50 450 300 kill-notes 0;
#X obj 77 176 bag;
#X msg 91 148 flush;
#X obj 77 200 pack 0 0;
#X text 165 60 Kills notes left on by sequence.;
#X obj 91 117 r lockseq2-\$1-stop;
#X obj 224 117 r lockseq2-\$1-quitting;
#X obj 77 226 s lockseq2-\$1-zero_notes;
#X obj 77 40 r lockseq2-\$1-notes_seq;
#X obj 77 84 route 0;
#N canvas 11 50 1738 915 splitter 0;
#X obj 1132 95 inlet;
#X obj 772 604 outlet;
#X text 1305 171 split a list into pairs up to 12 pairs (24 items in
list);
#X obj 1132 141 list split 2;
#X obj 1024 174 list split 2;
#X obj 937 204 list split 2;
#X obj 845 229 list split 2;
#X obj 738 264 list split 2;
#X obj 644 296 list split 2;
#X obj 541 330 list split 2;
#X obj 459 370 list split 2;
#X obj 362 408 list split 2;
#X obj 271 437 list split 2;
#X obj 186 476 list split 2;
#X obj 95 525 list split 2;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 4 0 1 0;
#X connect 4 1 5 0;
#X connect 5 0 1 0;
#X connect 5 1 6 0;
#X connect 6 0 1 0;
#X connect 6 1 7 0;
#X connect 7 0 1 0;
#X connect 7 1 8 0;
#X connect 8 0 1 0;
#X connect 8 1 9 0;
#X connect 9 0 1 0;
#X connect 9 1 10 0;
#X connect 10 0 1 0;
#X connect 10 1 11 0;
#X connect 11 0 1 0;
#X connect 11 1 12 0;
#X connect 12 0 1 0;
#X connect 12 1 13 0;
#X connect 13 0 1 0;
#X connect 13 1 14 0;
#X connect 14 0 1 0;
#X restore 77 61 pd splitter;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 7 0 9 0;
#X connect 8 1 0 0;
#X connect 9 0 8 0;
#X restore 311 90 pd kill-notes;
#N canvas 5 50 450 300 save-read 0;
#X msg 21 141 write ./sequence.txt;
#X obj 21 116 r saveState;
#X obj 21 163 s \$0-to-qlist;
#X obj 202 65 loadbang;
#X obj 202 102 t b b;
#X msg 202 159 1;
#X msg 234 127 read ./sequence.txt;
#X obj 202 181 s lockseq2-\$1-something-recorded;
#X obj 234 152 s \$0-to-qlist;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X restore 313 123 pd save-read;
#X obj 552 355 r lockseq2-\$1-notes-seq;
#X connect 2 0 13 0;
#X connect 2 1 4 0;
#X connect 3 0 8 0;
#X connect 3 1 9 0;
#X connect 3 2 10 0;
#X connect 3 3 11 0;
#X connect 4 0 7 0;
#X connect 7 0 3 0;
#X connect 8 0 12 0;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 13 0 12 0;
#X connect 15 0 14 0;
#X connect 18 0 17 0;
#X connect 18 0 20 0;
#X connect 19 0 20 0;
#X connect 23 0 20 0;
#X restore 172 246 pd lockseq2;
#X obj 246 223 r lockseq2-\$1-notes-in;
#X obj 172 203 r lockseq2-\$1-aux;
#X obj 172 283 s lockseq2-\$1-notes-out;
#X text 18 8 Sequencer2: A simple sequencer Module.;
#X text 15 38 Argument1: Module Shortcut Name (lockseq2);
#X text 15 58 Argument2: Sequencer2 Instance Number;
#X text 373 35 uses the input aux button to start / stop / record a
sequence. Only two inputs needed: (r lockseq2-\$1-aux) and (r lockseq2-\$1-notes-in)
, f 43;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
